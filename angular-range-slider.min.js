/*! angular-range-slider 2015-02-11 */
(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p;a="angularRangeSlider",b=function(a){return angular.element(a)},k=function(a){return""+a+"px"},g=function(a){return a.css({opacity:0})},n=function(a){return a.css({opacity:1})},i=function(a,b){return a.css({left:b})},f=function(a){return a[0].offsetWidth/2},j=function(a){return a[0].offsetLeft},p=function(a){return a[0].offsetWidth},e=function(a,b){return j(b)-j(a)-p(a)},c=function(a){return isNaN(a)?a:Math.min(Math.max(0,a),100)},m=function(a,b,c,d){var e,f,g,h;return null==d&&(d=0),null==c&&(c=1/Math.pow(10,b)),f=(a-d)%c,h=f>c/2?a+c-f:a-f,e=Math.pow(10,b),g=h*e/e,parseFloat(g.toFixed(b))},d={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend"}},o=function(a){return{restrict:"EA",scope:{floor:"@",ceiling:"@",values:"=?",step:"@",highlight:"@",precision:"@",buffer:"@",dragstop:"@",ngModel:"=?",ngModelLow:"=?",ngModelHigh:"=?"},template:'<div class="bar"><div class="selection"></div></div>\n<div class="handle low"></div><div class="handle high"></div>\n<div class="bubble limit low">{{ values.length ? values[floor || 0] : floor }}</div>\n<div class="bubble limit high">{{ values.length ? values[ceiling || values.length - 1] : ceiling }}</div>\n<div class="bubble value low">{{ values.length ? values[local.ngModelLow || local.ngModel || 0] : local.ngModelLow || local.ngModel || 0 }}</div>\n<div class="bubble value high">{{ values.length ? values[local.ngModelHigh] : local.ngModelHigh }}</div>',compile:function(e,g){e.addClass("angular-range-slider");var h,l,n,o;return n=null==g.ngModel&&null!=g.ngModelLow&&null!=g.ngModelHigh,l=n?"ngModelLow":"ngModel",h="ngModelHigh",o=["floor","ceiling","values",l],n&&o.push(h),{post:function(e,g,q){var r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T;if(S=function(){var a,c,d,e;for(d=g.children(),e=[],a=0,c=d.length;c>a;a++)w=d[a],e.push(b(w));return e}(),r=S[0],F=S[1],C=S[2],x=S[3],u=S[4],A=S[5],z=S[6],J=b(r.children()[0]),!n){for(T=[C,z],O=0,Q=T.length;Q>O;O++)L=T[O],L.remove();q.highlight||J.remove()}for(e.local={},e.local[l]=e[l],e.local[h]=e[h],t=!1,H=b(document),y=s=E=B=G=D=M=I=void 0,v=function(){var a,b,c,d;for(null==e.step&&(e.step=1),null==e.floor&&(e.floor=0),null==e.precision&&(e.precision=0),n||(e.ngModelLow=e.ngModel),(null!=(d=e.values)?d.length:void 0)&&null==e.ceiling&&(e.ceiling=e.values.length-1),e.local[l]=e[l],e.local[h]=e[h],b=0,c=o.length;c>b;b++)a=o[b],"number"==typeof a&&(e[a]=m(parseFloat(e[a]),parseInt(e.precision),parseFloat(e.step),parseFloat(e.floor)));return y=f(F),s=p(r),E=0,B=s-p(F),G=parseFloat(e.floor),D=parseFloat(e.ceiling),M=D-G,I=B-E},K=function(){var a,b,o,r,w,x;return v(),b=function(a){return c((a-E)/I*100)},o=function(a){return c((a-G)/M*100)},r=function(a){return k(a*I/100)},x=function(){var a,b;switch(i(u,k(s-p(u))),b=o(e.local[l]),i(F,r(b)),i(A,k(j(F)-f(A)+y)),i(J,k(j(F)+y)),!0){case n:return a=o(e.local[h]),i(C,r(a)),i(z,k(j(C)-f(z)+y)),J.css({width:r(a-b)});case"right"===q.highlight:return J.css({width:r(110-b)});case"left"===q.highlight:return J.css({width:r(b)}),i(J,0)}},a=function(a,c,d,f){var i,j,k,o;return i=d,j=function(){return c.removeClass("active"),a.removeClass("active"),H.unbind(f.move),H.unbind(f.end),e.dragstop&&(e[h]=e.local[h],e[l]=e.local[l]),i=d,e.$apply()},k=function(a){var c,d,f,j,k,o,p,q;if(c=a.clientX||(null!=(k=a.touches)&&null!=(o=k[0])?o.clientX:void 0)||(null!=(p=a.originalEvent)&&null!=(q=p.changedTouches)?q[0].clientX:void 0)||0,d=c-g[0].getBoundingClientRect().left-y,d=Math.max(Math.min(d,B),E),f=b(d),j=G+M*f/100,n)switch(i){case l:j>e.local[h]?(i=h,F.removeClass("active"),A.removeClass("active"),C.addClass("active"),z.addClass("active"),x()):e.buffer>0&&(j=Math.min(j,e.local[h]-e.buffer));break;case h:j<e.local[l]?(i=l,C.removeClass("active"),z.removeClass("active"),F.addClass("active"),A.addClass("active"),x()):e.buffer>0&&(j=Math.max(j,parseInt(e.local[l])+parseInt(e.buffer)))}return j=m(j,parseInt(e.precision),parseFloat(e.step),parseFloat(e.floor)),e.local[i]=j,e.dragstop||(e[i]=j),x(),e.$apply()},o=function(b){return v(),c.addClass("active"),a.addClass("active"),x(),b.stopPropagation(),b.preventDefault(),H.bind(f.move,k),H.bind(f.end,j)},a.bind(f.start,o)},w=function(){var b,c,e,f;for(f=["touch","mouse"],c=0,e=f.length;e>c;c++)b=f[c],a(F,A,l,d[b]),a(C,z,h,d[b]);return t=!0},t||w(),x()},a(K),P=0,R=o.length;R>P;P++)N=o[P],e.$watch(N,K,!0);return window.addEventListener("resize",K)}}}}},l=["$timeout",o],(h=function(b,c){return c.module(a,[]).directive("rangeSlider",l)})(window,window.angular)}).call();